# 광고 소재 비교 테스트 방법론

## 요약

광고 소재를 비교할 때 사용하는 방법은 크게 3가지입니다:

| 방법 | 특징 | 권장 상황 |
|------|------|----------|
| **A/B 테스트** | 통계적 유의성 검증, 명확한 결론 | 장기 캠페인, 신중한 의사결정 |
| **Multi-Armed Bandit (MAB)** | 실시간 최적화, 손실 최소화 | 단기 프로모션, 빠른 최적화 필요 |
| **플랫폼 내장 AI** | 자동 최적화 (Advantage+, PMax) | 리소스 부족, 대규모 캠페인 |

---

## 1. A/B 테스트

### 개념
두 개 이상의 광고 소재를 **동일한 비율(50:50)**로 노출하고, 일정 기간 후 통계적으로 유의미한 차이가 있는지 검증하는 방법

### 장점
- 통계적으로 **명확한 결론** 도출
- 결과에 대한 **신뢰도가 높음**
- 학습/분석 목적에 적합

### 단점
- 테스트 기간 동안 **비효율적인 소재에도 동일한 예산** 소모
- 충분한 샘플 사이즈 확보까지 **시간이 오래 걸림**
- A안이 훨씬 좋아도 테스트 기간 동안 B안으로 인해 **손실 발생**

### A/B 테스트의 한계
```
문제 상황:
- A/B 테스트 시작 → A안: 3% 전환율, B안: 1.5% 전환율
- 테스트 기간 7일 동안 B안에 50% 예산 소모 → 손실
- 또는: 테스트 초반엔 A안이 좋았는데, 일주일 후 B안 반응률이 더 좋아짐
```

---

## 2. Multi-Armed Bandit (MAB)

### 개념
슬롯머신(Bandit) 비유에서 유래. 여러 대의 슬롯머신 중 **어떤 것을 당겨야 최대 보상**을 받을 수 있는지 찾는 문제

### 핵심: 탐색(Exploration) vs 활용(Exploitation)
```
┌─────────────────────────────────────────────────────────┐
│  탐색 (Exploration)                                      │
│  - 아직 잘 모르는 소재도 시도해봄                         │
│  - 더 좋은 소재를 발견할 가능성                           │
│                                                          │
│  활용 (Exploitation)                                     │
│  - 현재까지 가장 좋은 소재에 집중                         │
│  - 당장의 성과 극대화                                    │
│                                                          │
│  MAB = 탐색과 활용의 최적 균형을 찾는 알고리즘           │
└─────────────────────────────────────────────────────────┘
```

### 장점
- **실시간 최적화**: 성과 좋은 소재에 자동으로 더 많은 노출
- **손실 최소화**: 나쁜 소재에 예산 낭비 줄임
- **적응형**: 시간에 따라 반응률이 바뀌어도 대응 가능

### 단점
- 통계적 유의성 검증이 어려움 (명확한 "승자" 판정 어려움)
- 구현이 복잡함
- 초기 탐색 기간에는 비효율 발생

---

## 3. MAB 알고리즘 종류

### 3.1 Epsilon-Greedy (ε-Greedy)

**원리**: ε(예: 10%) 확률로 랜덤 탐색, 나머지(90%)는 최고 성과 소재 활용

```
예시 (ε = 0.1):
- 10% 확률: 랜덤으로 아무 소재나 선택 (탐색)
- 90% 확률: 현재 가장 전환율 높은 소재 선택 (활용)
```

| 장점 | 단점 |
|------|------|
| 구현이 간단함 | ε 값 설정이 어려움 |
| 이해하기 쉬움 | 탐색 비율이 고정되어 비효율적 |

### 3.2 UCB (Upper Confidence Bound)

**원리**: 각 소재의 기대 보상 + **불확실성 보너스**를 더해서 선택

```
UCB 점수 = 평균 전환율 + √(2 × ln(전체시도) / 해당소재시도)

불확실성이 높은 소재(시도 횟수 적음) → 보너스 높음 → 선택 확률 ↑
```

| 장점 | 단점 |
|------|------|
| 이론적 근거가 탄탄함 | 파라미터 튜닝 필요 |
| 불확실성을 체계적으로 반영 | 초기 탐색 기간 길 수 있음 |

### 3.3 Thompson Sampling (TS) ⭐ 권장

**원리**: 각 소재의 전환율을 **확률 분포**로 모델링하고, 분포에서 샘플링하여 선택

```
각 소재별로:
- 성공(전환) 횟수: α
- 실패(비전환) 횟수: β
- Beta(α, β) 분포에서 랜덤 샘플링
- 가장 높은 값이 나온 소재 선택
```

| 장점 | 단점 |
|------|------|
| **파라미터 튜닝 불필요** | 이해하기 다소 복잡 |
| 성능이 가장 우수 | 베이지안 통계 지식 필요 |
| Google Analytics에서 사용 | - |

### 알고리즘 성능 비교

```
성능 순위 (연구 결과 기반):

1위: Thompson Sampling  ████████████████████  최고
2위: UCB               ███████████████████   우수
3위: Epsilon-Greedy    ████████████████      보통
4위: Random            ██████████            기준선
```

> Thompson Sampling은 파라미터 설정이 필요 없고, 장기적으로 가장 높은 누적 보상을 달성합니다.

---

## 4. A/B 테스트 vs MAB 비교

| 항목 | A/B 테스트 | Multi-Armed Bandit |
|------|-----------|-------------------|
| **목표** | 어떤 게 더 좋은지 **알아내기** | 더 좋은 것에 **최적화하기** |
| **트래픽 배분** | 고정 (50:50) | 동적 (성과 기반) |
| **테스트 기간** | 정해진 기간 필요 | 지속적 (종료 없음) |
| **손실** | 테스트 기간 동안 손실 발생 | 손실 최소화 |
| **결론 명확성** | 통계적으로 명확 | 상대적으로 모호 |
| **적합한 상황** | 중요한 의사결정, 장기 전략 | 단기 프로모션, 빠른 최적화 |

### 언제 무엇을 쓸까?

```
A/B 테스트를 써야 할 때:
├─ 명확한 승자를 통계적으로 증명해야 할 때
├─ 장기 캠페인 (1개월 이상)
├─ 테스트 결과를 보고서로 문서화해야 할 때
└─ 학습/분석이 주목적일 때

MAB를 써야 할 때:
├─ 단기 프로모션 (블랙프라이데이, 시즌 세일)
├─ 빠르게 최적화해야 할 때
├─ 손실을 최소화하면서 테스트하고 싶을 때
└─ 트래픽이 적어서 A/B 테스트 기간이 너무 길어질 때
```

---

## 5. 실무 적용 방법

### 방법 1: 플랫폼 내장 기능 사용 (가장 쉬움)

| 플랫폼 | 기능 | 알고리즘 |
|--------|------|---------|
| **Meta (Facebook)** | Advantage+ 크리에이티브 | MAB 기반 자동 최적화 |
| **Google Ads** | 반응형 검색광고, PMax | 머신러닝 최적화 |
| **Google Analytics** | Optimize (종료됨) | Thompson Sampling |

**Meta Advantage+ 사용법**:
1. 광고 세트에서 "Advantage+ 크리에이티브" 활성화
2. 여러 이미지/영상 업로드
3. Meta가 자동으로 최적 조합 선택

### 방법 2: A/B 테스트 직접 실행

**Meta A/B 테스트**:
```
광고 관리자 → 실험 → A/B 테스트 만들기
- 변수: 크리에이티브 (소재)
- 테스트 기간: 7-14일
- 예산: 그룹당 동일하게 배분
```

**필요 샘플 사이즈**:
- 전환율 2%, MDE 20% 기준 → 그룹당 약 4,000명 필요
- [샘플 사이즈 계산기](../v4-cli/README.md) 참고

### 방법 3: MAB 직접 구현 (고급)

Python 예시 (Thompson Sampling):
```python
import numpy as np

class ThompsonSampling:
    def __init__(self, n_arms):
        self.alpha = np.ones(n_arms)  # 성공 횟수 + 1
        self.beta = np.ones(n_arms)   # 실패 횟수 + 1

    def select_arm(self):
        samples = [np.random.beta(a, b) for a, b in zip(self.alpha, self.beta)]
        return np.argmax(samples)

    def update(self, arm, reward):
        if reward:  # 전환 발생
            self.alpha[arm] += 1
        else:       # 전환 없음
            self.beta[arm] += 1

# 사용 예시
mab = ThompsonSampling(n_arms=3)  # 소재 A, B, C

for impression in impressions:
    selected = mab.select_arm()  # 노출할 소재 선택
    # 해당 소재 노출...
    conversion = check_conversion()
    mab.update(selected, conversion)
```

---

## 6. 권장 전략

### 일반적인 권장 사항

```
1단계: 플랫폼 내장 AI 먼저 활용
       └─ Meta Advantage+, Google PMax

2단계: 중요한 테스트는 A/B 테스트로 검증
       └─ 명확한 결론이 필요할 때

3단계: 단기/빠른 최적화가 필요하면 MAB 고려
       └─ 시즌 프로모션, 이벤트 캠페인
```

### 실무 팁

1. **처음에는 A/B 테스트로 시작** - 결과 해석이 명확함
2. **테스트 기간이 너무 길어지면 MAB 검토** - 손실 최소화
3. **플랫폼 AI 기능 적극 활용** - 이미 MAB 기반으로 동작함
4. **항상 테스트 결과 기록** - 학습 자산화

---

## 7. 매체별 소재 최적화 방식 비교

### 핵심 질문에 대한 답변

**Q1. MAB 알고리즘을 적용하지 않는 광고 매체가 있나?**
> 있습니다. 네이버, 카카오 등 국내 매체는 Meta/Google 수준의 MAB 자동 최적화가 없습니다.

**Q2. 네이버나 카카오는 MAB를 적용하나?**
> 부분적으로만 적용. "예산 최적화"는 있지만, **소재 자동 최적화(MAB)**는 없거나 제한적입니다.

**Q3. MAB가 없으면 자체적으로 비교해야 하나?**
> 맞습니다. 수동 A/B 테스트 또는 수동 소재 교체가 필요합니다.

**Q4. 소재 관리는 매체별로 다르게 해야 하나?**
> **YES!** 매체별로 최적화 수준이 다르므로 전략도 달라야 합니다.

---

### 7-1. 매체별 소재 자동 최적화 비교

| 매체 | 소재 자동 최적화 | 예산 자동 배분 | 수동 A/B 테스트 필요 |
|------|-----------------|---------------|-------------------|
| **Meta (Facebook/Instagram)** | ⭐⭐⭐⭐⭐ Advantage+ | ⭐⭐⭐⭐⭐ CBO | 선택적 |
| **Google Ads** | ⭐⭐⭐⭐⭐ PMax, 반응형 | ⭐⭐⭐⭐⭐ | 선택적 |
| **네이버 GFA** | ⭐⭐ 제한적 | ⭐⭐⭐⭐ 캠페인 예산 최적화 | **필수** |
| **네이버 검색광고** | ⭐⭐⭐ ADVoost | ⭐⭐⭐ | **필수** |
| **카카오모먼트** | ⭐⭐ 제한적 | ⭐⭐⭐ 전환 최적화 | **필수** |
| **TikTok** | ⭐⭐⭐⭐ Smart Creative | ⭐⭐⭐⭐ | 선택적 |

---

### 7-2. 매체별 상세 분석

#### Meta (Facebook/Instagram) - 자동화 최고 수준

```
✅ MAB 자동 최적화: Advantage+ 크리에이티브
   └─ 여러 소재 업로드 → AI가 자동으로 최적 조합 선택
   └─ Meta Andromeda AI 모델 도입 → 광고 품질 8% 개선

✅ 예산 자동 배분: CBO (Campaign Budget Optimization)
   └─ 성과 좋은 광고 세트에 자동으로 예산 배분

📌 소재 관리 전략:
   └─ Advantage+ 활성화하고 다양한 소재 업로드
   └─ AI에게 맡기되, 주기적으로 새 소재 추가
   └─ 수동 A/B 테스트는 중요한 가설 검증 시에만
```

#### Google Ads - 자동화 최고 수준

```
✅ MAB 자동 최적화: Performance Max (PMax), 반응형 광고
   └─ 다양한 에셋 업로드 → AI가 최적 조합 생성
   └─ 검색, 디스플레이, 유튜브 등 전 채널 자동 최적화

✅ 머신러닝 기반 입찰
   └─ 타겟 CPA, 타겟 ROAS 자동 최적화

📌 소재 관리 전략:
   └─ PMax에 다양한 에셋(이미지, 영상, 텍스트) 업로드
   └─ 빈도수 관리 중요 → 미디어 믹스 활용
   └─ 기존 구매자 DB 활용 시 성과 ↑
```

#### 네이버 GFA - 자동화 제한적 ⚠️

```
⚠️ 소재 자동 최적화: 없음 (수동 관리 필요)
   └─ 여러 소재 등록은 가능하나, 자동 MAB 없음
   └─ 성과 데이터 보고 직접 판단 후 ON/OFF

✅ 예산 자동 배분: 캠페인 예산 최적화 (2024년 도입)
   └─ 광고 그룹 간 예산 자동 배분
   └─ 단, 광고 그룹당 최소 10만원 이상 필요

📌 소재 관리 전략:
   └─ 수동 A/B 테스트 필수
   └─ 2~3개 소재 등록 → 성과 비교 → 저성과 OFF
   └─ 직관적인 소재가 효과적 (빈도수 낮음)
   └─ 머신러닝 미완성 → 잦은 변경 피하기
```

#### 네이버 검색광고 - 부분 자동화

```
⚠️ 소재 자동 최적화: 제한적
   └─ 여러 T&D(타이틀&디스크립션) 등록 후 수동 비교

✅ AI 기반 노출: ADVoost (애드부스트)
   └─ 등록 안 한 키워드에도 AI가 연관성 판단해 노출
   └─ 단, 소재 자체의 MAB 최적화는 아님

📌 소재 관리 전략:
   └─ 수동 A/B 테스트 필수
   └─ 5가지 유형 테스트: 신뢰성/할인/장점/이벤트/자극
   └─ 시간대별 소재 교체 전략 유효
   └─ 월 100만원 이상 예산 시 의미 있는 테스트 가능
```

#### 카카오모먼트 - 자동화 제한적 ⚠️

```
⚠️ 소재 자동 최적화: 없음 (수동 관리 필요)
   └─ 소재별 성과 확인 후 직접 교체

✅ 전환 최적화: 입찰 자동화
   └─ 전환 가능성 높은 사용자에게 자동 노출
   └─ 단, 소재 선택은 수동

📌 소재 관리 전략:
   └─ 수동 A/B 테스트 필수
   └─ 그룹당 일 50~100만원 예산 권장
   └─ 동일 성격의 소재끼리 그룹화
   └─ 고효율 소재 교체 시 시간 간격 두기
```

---

### 7-3. 매체별 소재 관리 전략 요약

```
┌─────────────────────────────────────────────────────────────────┐
│                    매체별 소재 관리 전략                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  Meta / Google (자동화 高)                                       │
│  ├─ 전략: AI에게 맡기기                                          │
│  ├─ 할 일: 다양한 소재 업로드, 주기적 신규 소재 추가              │
│  └─ A/B 테스트: 중요한 가설 검증 시에만                          │
│                                                                  │
│  네이버 / 카카오 (자동화 低)                                     │
│  ├─ 전략: 수동 최적화                                            │
│  ├─ 할 일: 직접 A/B 테스트, 성과 모니터링, 저성과 OFF            │
│  └─ A/B 테스트: 필수! 자체 비교 분석 해야 함                     │
│                                                                  │
│  TikTok (자동화 中)                                              │
│  ├─ 전략: Smart Creative 활용 + 수동 보완                        │
│  └─ A/B 테스트: 선택적                                           │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

### 7-4. 실무 권장 워크플로우

```
1️⃣ Meta/Google 광고
   └─ Advantage+ / PMax 활성화
   └─ 다양한 소재 업로드 (5~10개)
   └─ 주 1회 성과 확인, 저성과 소재 교체
   └─ AI가 알아서 최적화 → 개입 최소화

2️⃣ 네이버/카카오 광고
   └─ 소재 2~3개 등록 (A/B/C)
   └─ 동일 예산, 동일 기간 운영 (최소 7일)
   └─ 성과 비교 → 승자 소재에 예산 집중
   └─ 패자 소재 OFF 또는 교체
   └─ 반복 (수동 MAB 방식)

3️⃣ 전체 미디어 믹스 관점
   └─ Meta/Google: 자동 최적화로 효율 극대화
   └─ 네이버/카카오: 수동 테스트로 인사이트 확보
   └─ 네이버에서 발견한 좋은 소재 → Meta에 적용 (시너지)
```

---

### 7-5. 핵심 인사이트

| 구분 | 핵심 포인트 |
|------|------------|
| **자동화 수준** | Meta/Google >> TikTok > 네이버/카카오 |
| **소재 관리** | 매체별로 다른 전략 필수 |
| **네이버/카카오** | 수동 A/B 테스트가 유일한 최적화 방법 |
| **리소스 배분** | 자동화 매체는 소재 제작에, 수동 매체는 분석에 집중 |

---

## 출처

### A/B 테스트 vs MAB
| 출처 | 내용 |
|------|------|
| [데이터리안 - A/B 테스팅](https://datarian.io/blog/a-b-testing) | A/B 테스트 개념, 한계점 |
| [ZUM 허브 - MAB 알고리즘](https://hub.zum.com/kimws/2586) | MAB로 A/B 테스트 보완 |
| [크리스송 - MAB 설명](https://brunch.co.kr/@chris-song/62) | MAB 원리, 탐색 vs 활용 |

### 알고리즘 비교
| 출처 | 내용 |
|------|------|
| [lamttic - 광고 소재 최적화 MAB 활용기](https://lamttic.github.io/2020/04/18/01.html) | Thompson Sampling 실무 적용 |
| [Velog - MAB 심화 알고리즘](https://velog.io/@minchoul2/RecSys-추천을-위한-MABMulti-Armed-Bandit-심화-알고리즘Thompson-sampling-LinUCB) | TS, LinUCB 비교 |
| [ResearchGate - MAB 알고리즘 비교 논문](https://www.researchgate.net/publication/350357541_Comparison_of_Various_Multi-Armed_Bandit_Algorithms_E_-greedy_Thompson_sampling_and_UCB-1_to_Standard_AB_Testing) | ε-Greedy, TS, UCB-1 성능 비교 |

### 실무 가이드
| 출처 | 내용 |
|------|------|
| [적정마케팅연구소 - 광고 소재 A/B테스트](https://segama.co.kr/blog/22949/) | 메타/구글 디스플레이 광고 테스트 |
| [Google Ads - 소재 메시지 테스트](https://support.google.com/google-ads/answer/6167129?hl=ko) | 구글 광고 소재 최적화 가이드 |
| [Moloco - 소재 A/B 테스트 설정](https://help.moloco.com/hc/en-us/articles/4404658994071-A-B-test-settings) | 앱 광고 소재 테스트 |

---

## 관련 문서

- [AB TEST 방법론](./251209_방법론.MD) - 통계적 검증 방법
- [v4-cli](./v4-cli/) - 샘플 사이즈 계산 및 AB TEST 분석 도구

---

*작성일: 2024-12-09*
