

## 잠깐의 열받음 

### 와, 진짜, 열받는다. 사실 할말은 많다. 인정할 건 인정해야지. 그런데, 디자인도 기획대로 안 나왔는데, 디자인과 프론트간 리소스 갈등이 있는 걸 오롯하게 프론트가 (내가) 맡았는데, 그게 오롯하게 '내 역량 부족' 이라고. 이렇게 평가받고, 이렇게 말하는게 싫다. 당신은 파악 못 했지 않느냐. 따질 수 있다. 따지고 싶다. 하지만 내가 부족한게 있는건 사실이다. 아아아아악. 50만 못 한거 같은데, 100, 200 못 했다고 하는 거 같아서 화난다. 어떻게든 해내야지. 나의 목표를. 이런 수모를 당하고 싶지 않다. 받아들일 것은 받아들이자 

- 개미 스쿨 4주차 평가 
```
어쩌면 나도 되게... 인정받고 싶어하는 사람인가. 
```
![Image](https://i.imgur.com/YXGVtPQ.png)


### 부정적인 마음은 남을 탓하게 만든다. 오롯하게 나에게 집중하자. 화남을 받아들이자. 부족한 것도. 



## user 페이지 목록 조회에서 이메일 누르면 작성 되게 하기 (#⭐⭐⭐⭐⭐⭐) (#⭐⭐여기 정말 중요)

- 출처 : https://chatgpt.com/share/b8763063-09aa-408d-bde1-45c7a296ae2d

![Image](https://i.imgur.com/OvR7Nvc.png)

### [결과] 우선, email 을 누르면, modal 이 뜬다.

![Image](https://i.imgur.com/PM3YAhW.png)

### [포인트]

1. Link 에 onClick 속성을 연결함 
```jsx 
                          <Link
                            onClick={(e) => {handleLinkClick(e, column, item)}}
                            href={{
                              pathname: `${column.link.pathname}/${
                                column.link.slug
                              }`,
                              query: { ..._querystring , 
                                  modal : column.link.modal ?  true : undefined,
                              },
                            }}
                            ...
                          </Link>
```

2. JS 는 onClick 이벤트가 발생하면, Link 컴포넌트의 기본 속성인 href 에 따라서 브라우저 페이지를 변경시키는게 아니라, onClick 이벤트를 먼저 처리함! -> 이를 안전하게 실행하기 위해 `preventDefault()` 를 실행

- 출처 : https://chatgpt.com/share/b8763063-09aa-408d-bde1-45c7a296ae2d

``` jsx
  const handleLinkClick = (e: React.MouseEvent, column: any, item: any) => {
    if(column?.link?.modal){
      e.preventDefault(); // Link 의 기본동작인 href 로 이동을 막음
      handleOpenModal(item) // modal open
    }
  }
```

3. 모달 로직은 기존에 사용하던, 전역 상태관리로 사용하던 걸 넣어줌. 
- openModal 이게 useModal 에서 넘어오고 
- useModal 내부는 전역 상태관리로 이루어져 있음. 
- 근데, return 되는게 없는데 왜 모달이 뜨는건지 아직 잘 모르겠음. ⭐⭐⭐⭐⭐
``` jsx
  const { openModal, closeModal } = useModal();

  const handleOpenModal = (item) => {
    openModal({
      title: "회원등록",
      content: <UpdateUser />,
      isBtn: true, // 버튼을 표시할지 여부
      callback: () => {
        console.log("확인 버튼 클릭됨");
        // [TODO] 수정사항 반영하는 API 함수 호출

        closeModal(); // 모달 닫기
      },
      onReset: () => {
        console.log("모달 초기화 작업 수행");
      },
    });
  };
```


4. 그리고 이게 되려면 headerUser 에서 `modal : true` 속성을 넣어줘야 함
``` jsx
export const headerUser = [
  /* 사용법 
    - 객체 내부의 name 속성은 api response 의 필드명과 일치 해야 함  
    - link.pathname 에 의해 클릭시 이동하게 
  */
  { header: "등급", name: ["user_grade"], width: 300 },
  {
    header: "E-mail",
    name: ["email"],
    width: 400,
    link: {
      pathname: "/user",
      // slug: "user_id",
      modal : true,
    },
  },
  ... ]
```

### 추가 공부할 것 

1. 아직 모달이 return 되는게 없는데 왜 잘 뜨는지 모르겠음. 반드시, 탐구해야 함 
