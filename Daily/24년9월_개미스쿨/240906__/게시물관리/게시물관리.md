
# ê²Œì‹œë¬¼ ê´€ë¦¬

## ëª©ë¡

- í˜„ì¬ ëª©ë¡ ë³´ì—¬ì§

## ìƒìœ„ê³ ì •

- í´ë¦­í•˜ë©´, ìƒìœ„ê³ ì • ë°˜ì˜ë  ìˆ˜ ìˆê²Œ í•˜ê¸°

### í´ë¦­í•˜ëŠ” ê³³ì´ ì–´ë”˜ì§€ ì‚´í´ë³´ê¸°

1. ì´ë ‡ê²Œ ìš°ì„  'ì²´í¬ë°•ìŠ¤ ì¶”ê°€' ê¸°ëŠ¥ì„ ë„£ì—ˆëŠ”ë°, ê¸°ëŠ¥ê¹Œì§€ ë„£ìœ¼ë ¤ë©´?

![Image](https://i.imgur.com/sxNZ3KY.png)

![Image](https://i.imgur.com/mwfCGPG.png)

### 'ìƒìœ„ê³ ì •' ì„ ëˆŒë €ì„ ë•Œ, confirm ì°½ì´ ëœ¨ê²Œ í•˜ê¸°. (#ğŸ“›ğŸ“›ğŸ“›ğŸ“›ğŸ“› ì´ê²Œ ì‹œê°„ì´ ë§ì´)

- ê·¸ë•Œ, 3ê°œ ì—ëŸ¬ ì²˜ë¦¬ í•˜ê¸°
  ![Image](https://i.imgur.com/BoPHaCC.png)

- í˜„ì¬, 1) `is_pinned` ì— ì™œ ì²´í¬ë°•ìŠ¤ê°€ ì•„ë¬´ê²ƒë„ ì•ˆ ë³´ì´ì§€ 2) í´ë¦­í–ˆì„ ë•Œ, ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ê°€, ë­ì§€? ì™œ ì´ê²Œ ìˆì§€?

- useEffect ë°©ì‹ìœ¼ë¡œ ì“°ë ¤ê³  í–ˆì—ˆëŠ”ë°, 1) ê·¸ëŸ¬ë©´, í´ë¦­í–ˆì„ ë•Œì˜ ë°˜ì‘ì´ í•œë°•ì ì”© ëŠ¦ê³ , 2) ë¬´ì—‡ë³´ë‹¤, ì½”ë“œ í†µì¼ì„±ì´ ë§ì§€ ì•Šì•„ì„œ, ìš°ì„ , item ì— ë¶™ì—¬ì£¼ê¸°ë¡œ ê²°ì •!!!

![Image](https://i.imgur.com/6FcHdcw.png)

- ì´ entries ë¥¼ ìµœëŒ€í•œ ì‚´ë ¤ë³´ê¸°ë¡œ!
  ![Image](https://i.imgur.com/2o0s2Kt.png)

- ì•„. ì˜¤íˆë ¤, ì´ë ‡ê²Œ isCheckBox ê°€ ë˜ì–´ ìˆëŠ”ê²Œ, ì´ë ‡ê²Œ ì„¤ì •í•´ ë†’ì€ ê²ƒì´ ë°©í•´ê°€ ë˜ì—ˆêµ¬ë‚˜.

![Image](https://i.imgur.com/fB2OQvx.png)

- ![Image](https://i.imgur.com/QpzbNwB.png)

### checkbox ì˜ type ì„ ì„¤ì • (#â­â­â­â­â­â­â­â­)

![Image](https://i.imgur.com/ZHA1GBQ.png)

- type ì„ ë¶€ì—¬í•´ì„œ ì‘ì„±.

```jsx
// [240902]
if (type === "checkbox") {
  return formatValue(
    item[condition] === subCondition ? (
      <input
        type="checkbox"
        checked={item[condition]}
        onChange={() => fun(item)}
        // aria-label={label} // ì²´í¬ë°•ìŠ¤ì— ì ‘ê·¼ì„±ì„ ìœ„í•œ ë ˆì´ë¸” ì¶”ê°€
        // className="custom-checkbox-class" // í•„ìš”í•œ ê²½ìš° ì¶”ê°€ ìŠ¤íƒ€ì¼ì„ ìœ„í•œ í´ë˜ìŠ¤
      />
    ) : (
      "-"
    )
  );
}
```

- [ì´ ë°©ì‹ì˜ ë¬¸ì œì ] true ë¡œ ë‚´ë ¤ì™”ì„ ë•Œ, `ì²´í¬ëœ ëª¨ìŠµ` ìœ¼ë¡œ ë³´ì—¬ì•¼ í•¨ -> í•´ê²° í¬ì¸íŠ¸ë“¤ 

1. isPinned ë¡œ ë“¤ì–´ê°ˆ ë•Œ, ì°¸ì¡°ê°’ ë° ì°¸ì¡° ì¡°ê±´ ì„¤ì •

```jsx
  isPinned: {
    label: "âœ…",
    fun: (item) => onPinned(item),
    type: "checkbox",
    condition : "isPinned", // item.isPinned ë¥¼ ì°¸ì¡°
    subCondition: true, // item.isPinned ê°€ true ì¼ ë•Œë§Œ í™œì„±í™”
  }
```


2. `ë²„íŠ¼ ui í™œì„±í™” í•˜ëŠ” í•¨ìˆ˜` ì—ì„œ item[condition] ê³¼ subCondition ìœ¼ë¡œ ë¶„ê¸°ì²˜ë¦¬í•˜ì—¬ `ë Œë”ë§` (#â­â­â­â­â­)

```jsx
// ë²„íŠ¼
const formatButton = (item: any, buttonEntry: any) => {
  const { condition, subCondition, label, fun, type } = buttonEntry;

  // [240902]
  if (type === "checkbox") {
    return formatValue(
      item[condition] === subCondition ? (
        <input
          type="checkbox"
          checked={item[condition]}
          onChange={() => fun(item)}
          // aria-label={label} // ì²´í¬ë°•ìŠ¤ì— ì ‘ê·¼ì„±ì„ ìœ„í•œ ë ˆì´ë¸” ì¶”ê°€
          // className="custom-checkbox-class" // í•„ìš”í•œ ê²½ìš° ì¶”ê°€ ìŠ¤íƒ€ì¼ì„ ìœ„í•œ í´ë˜ìŠ¤
        />
      ) : (
        "-"
      )
    );
  }
};
```

3. ë”ë¯¸ë°ì´í„°ë¡œ í™•ì¸í•˜ë‹ˆ ì²´í¬ëœ ëª¨ìŠµìœ¼ë¡œ ë³´ì„ 
![Image](https://i.imgur.com/qJMiDpt.png)


- [ì´ ë°©ì‹ì˜ í˜„ì¬ ì´ìŠˆ] 3ê°œ ê¹Œì§€ë§Œ ì„¤ì •ë  ìˆ˜ ìˆì–´ì•¼ í•¨


- [ì´ ë°©ì‹ì˜ ë¬¸ì œì ] api ë¡œ ì •ìƒ ìˆ˜ì •ë˜ëŠ”ì§€ë¥¼ í™•ì¸í•´ì•¼ í•¨
```
https://dev2-service.api.antschool.nextinnovation.kr/swagger-ui/index.html#/Article%20(Admin)/updateArticleUsingPATCH

ì´ api ê°€ ìˆìœ¼ë¯€ë¡œ ì—¬ê¸°ì— ì¶”ê°€
```


4. ë‹¤ìŒë‚ (240903) ë‹¤ì‹œ ì•ˆ ë˜ì–´ì„œ í™•ì¸í•´ë³´ë‹ˆ `condition` ê³¼ `subCondition` ì˜ ë¬¸ì œ ì˜€ìŒ. -> ì´ê±¸ ì£¼ì„ì²˜ë¦¬í•˜ê³  ì§„í–‰. ì™œëƒë©´, í˜„ì¬, input ìì²´ì—ì„œ true ì™€ false ë¥¼ ë™ì‹œì— ì˜ ë³´ì—¬ì£¼ê³  ìˆê¸° ë•Œë¬¸ì—.

```jsx

/* 1. page.tsx ì—ì„œ isPinned ì˜ ì†ì„±ìœ¼ë¡œ condition ê³¼ subCondition ì„ ì „ë‹¬í•˜ëŠ”ë° 
  - item.isPinned ì˜ ê°’ì´ true ì¼ ë•Œë§Œ, input íƒœê·¸ê°€ í™œì„±í™” ë˜ëŠ” ì¡°ê±´. ì„ 
*/
isPinned: {
  label: "_âœ…_",
  fun: (item) => onPinned(item),
  type: "checkbox",
  condition: "isPinned", // item.isPinned ë¥¼ ì°¸ì¡°
  subCondition: true, // item.isPinned ê°€ true ì¼ ë•Œë§Œ í™œì„±í™”
}


/* 2. ê·¸ë˜ì„œ, UI ë¡œ ì „í™˜í•˜ëŠ” í•¨ìˆ˜ì—ì„œ, FALSE ì¼ ë•Œ ê°’ì´ ì•ˆ ë‚˜ì˜¤ê³  ìˆì—ˆìŒ.

*/

// ë²„íŠ¼
  const formatButton = (item: any, buttonEntry: any) => {
    const { condition, subCondition, label, fun , type } = buttonEntry;
    
    // [240902]
    if(type === 'checkbox') {
      return formatValue(
        item[condition] === subCondition ? (
          <input
            type="checkbox"
            checked={item[condition]}
            onChange={() => fun(item)}
            // aria-label={label} // ì²´í¬ë°•ìŠ¤ì— ì ‘ê·¼ì„±ì„ ìœ„í•œ ë ˆì´ë¸” ì¶”ê°€
            // className="custom-checkbox-class" // í•„ìš”í•œ ê²½ìš° ì¶”ê°€ ìŠ¤íƒ€ì¼ì„ ìœ„í•œ í´ë˜ìŠ¤
          />
        ) : (
          "-"
        )
      );
    }
  }

```

![Image](https://i.imgur.com/f5MOtsC.png)



### 5. ìƒìœ„ê³ ì • api ë¶™ì´ê¸° 

![Image](https://i.imgur.com/8kUoSQn.png)

- [ë¬¸ì œ ìƒí™©] í˜„ì¬ getData ê°€ ë¶™ì–´ ìˆëŠ”ê±° ê°™ì€ë°?


- `ì²´í¬` í•˜ê³  ëˆŒë €ì„ ë•Œ -> `í™•ì¸` ëˆŒë €ì„ ë•Œ -> ì œì¶œ ë˜ê¸° -> ui ë Œë”ë§ ë˜ê²Œ í•˜ê¸° 


- `ì²´í¬` í•˜ê³  -> `ì·¨ì†Œ` ëˆŒë €ì„ ë•Œ -> ì›ìƒë³µêµ¬ ë˜ê²Œ í•˜ê¸° 


- `ì²´í¬ í•´ì œ` í•˜ê³  -> `í™•ì¸` ëˆ„ë¥´ë©´ -> ì œì¶œ ë˜ê³  -> ui ë Œë”ë§ ê¹Œì§€ ë˜ê²Œ í•˜ê¸° 


- `ì²´í¬ í•´ì œ` í•˜ê³  -> `ì·¨ì†Œ` ëˆ„ë¥´ë©´ -> ì›ìƒ ë³µêµ¬ ë˜ê²Œ í•˜ê¸° 


- `ì²´í¬ í•´ì œ` ì™€ `ì²´í¬` ì—ì„œì˜ `alert ë©”ì‹œì§€` ë‹¤ë¥´ê²Œ í•˜ê¸° 


### 6. ìƒìœ„ê³ ì • (isPinned = true) ê°’ì´ ê°€ì¥ ìœ„ì— ë³´ì´ê²Œ í•˜ê¸° 

1. sort ê¸°ëŠ¥ í™œìš© (#ğŸ“›ğŸ“›ğŸ“›ğŸ“›ğŸ“›) (#ë¶€ì¡±ğŸ˜¢ğŸ˜¢ğŸ˜¢) (#â­â­â­ì´ê²Œ ë²„ë¸” ì •ë ¬ ì¸ê°€)
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort

```jsx
// ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
const getData = useCallback(async (param) => {
  try {
    const {
      data: { content, totalElements, totalPages },
      status,
    } = await ArticleService.getArticle(param);
    
    if (status === 200) {
      const processedData = {
        ...data,
        items: content.map((item) => ({
          ...item,
          createAt: item.createAt.replace("T", " "),
          updateAt: item.updateAt.replace("T", " "),
          // isPinned : true,
        }))
        .sort( (a,b) => (b.isPinned ? 1 : 0) - (a.isPinned ? 1 : 0) ), // ìƒë‹¨ê³ ì • ëœ ê²ƒ ì •ë ¬
        total_items: totalElements, // ì „ì²´ item ê°œìˆ˜
        total_pages: totalPages, // ì „ì²´ í˜ì´ì§€ ìˆ˜
        
      }
      setData(processedData);
    }
  } catch (e) {
    handleError({ e, alert });
  }
}, []);
```




