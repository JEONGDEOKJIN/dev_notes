
# `ëŒ“ê¸€` íƒ­ì˜ `ì¡°íšŒ` ê¸°ëŠ¥ (#ìœ„ ì‚¬í•­ ì°¸ê³ í•˜ê³ , 'ì²´í¬ë¦¬ìŠ¤íŠ¸' ë§Œë“¤ì–´ì„œ ì§„í–‰í•˜ê¸°)

## `ê¸°ê°„` ì¡°íšŒ 

### ì²´í¬ ë¦¬ìŠ¤íŠ¸ 

```bash
1. ì‹¤ì œ api ë°ì´í„° ì¸ì§€ í™•ì¸ 
  - service í•˜ìœ„ ì´ë¦„ì´ ì£¼ì†Œì™€ ë§¤ì¹­ë˜ëŠ”ì§€ í™•ì¸ ex) getReply -   return http.get<any>(`/admin/article/reply`, { params });

2. ìƒíƒœ ë³€ìˆ˜ì— ë„£ê¸° 
  2.1 ê°ì²´ êµ¬ì¡° ë¶„í•´í• ë‹¹ì´ ì œëŒ€ë¡œ ë˜ëŠ”ì§€ í™•ì¸ 
    - api ë¡œ ë‚´ë ¤ì˜¤ëŠ” í•„ë“œê°€, ì œëŒ€ë¡œ, ë˜ì–´ìˆì§€ ì•Šì„ ìˆ˜ ìˆìŒ 

  2.2 ìƒíƒœì½”ë“œì— ë”°ë¥¸ ë¶„ê¸° ì²˜ë¦¬ 
  
  2.2 ì •ìƒì²˜ë¦¬ ë˜ì—ˆì„ ë•Œ, 'ë°±ì—”ë“œì—ì„œ ë˜ì§„ ë°ì´í„°' ì™€ 'í”„ë¡ íŠ¸ì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” ë°ì´í„°' ê°„ ì°¨ì´ê°€ ìˆìœ¼ë¯€ë¡œ -> ë°ì´í„° ê°€ê³µí•˜ê¸° 
    - ex) ë‚ ì§œ ë°ì´í„°ì—ì„œ T ì—†ì• ê¸° 'createAt: item.createAt.replace("T", " ")'

  
  2.3 í˜ì´ì§€ë„¤ì´ì…˜ì—ì„œ ìš”êµ¬í•˜ëŠ” item ê°œìˆ˜, ì „ì²´ í˜ì´ì§€ ìˆ˜ ë“±ì„ ë§ì¶°ì„œ setState ì— ì €ì¥í•˜ê¸° ex) app\boardArticle\page.tsx

  2.4 'ì´ˆê¸°ê°’ ì„¤ì •' ëŒ€ë¡œ ì •í™•íˆ ë‚´ë ¤ì˜¤ëŠ”ì§€ í™•ì¸ 
    - 'ì´ˆê¸°ê°’' ì„¤ì •ì€ useForm ì—ì„œ ì²˜ìŒ ë“±ë¡í•  ë•Œ, ex) app\boardArticle\page.tsx í™•ì¸
    -> í˜„ì¬, ëŒ“ê¸€ ì‹¤ì œ ë°ì´í„°ê°€ ì—†ì–´ì„œ, ì¶”ê°€ì ì¸ í™•ì¸ ë¶ˆê°€ğŸ“›ğŸ“›

3. 'ì„ íƒí•œ ê¸°ê°„ê°’ì´ ì¿¼ë¦¬ë¡œ ë„˜ì–´ê°€ëŠ”ì§€' í™•ì¸ 
    -> í˜„ì¬, ëŒ“ê¸€ ì‹¤ì œ ë°ì´í„°ê°€ ì—†ì–´ì„œ, ì¶”ê°€ì ì¸ í™•ì¸ ë¶ˆê°€ğŸ“›ğŸ“›

```


## `ìƒíƒœ` ì¡°íšŒ 

``` bash 
  -> 'ëŒ“ê¸€' ì€ ê¸°íšì„œìƒ ìƒíƒœ ì¡°íšŒëŠ” ì—†ìœ¼ë¯€ë¡œ íŒ¨ìŠ¤ (@240904)
```
![Image](https://i.imgur.com/xzNJ5zw.png)


## `ì •ë ¬` ì¡°íšŒ (sorting)


### ì²´í¬ ë¦¬ìŠ¤íŠ¸ 
```jsx
/*
  1. Database.ts ì—ì„œ label ë° value ì„¤ì • 
   - value ëŠ” 'í•„ë“œëª…/ì˜¤ë¦„ì°¨ìˆœorë‚´ë¦¼ì°¨ìˆœ' ìœ¼ë¡œ ì„¤ì •
*/
    export const selectComments3 = [
      {
        label: "ìµœì‹ ìˆœ",
        value: "createAt/desc",
      },
      {
        label: "ê³¼ê±°ìˆœ",
        value: "createAt/asc",
      },
      {
        label: "ì¢‹ì•„ìš”",
        value: "likeCnt/desc",
      },
    ];
    /*
    [ë¬¸ì œì ] ì´ì „ ì½”ë“œì™€ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ. 
     - ì´ì „ ì½”ë“œì—ì„œëŠ” NEW, OLD, LIKE ê°™ì´, ë³„ë„ì˜ api ë¥¼ ë§Œë“¤ì–´ì„œ í†µì‹ í•œ ê²ƒìœ¼ë¡œ ì¶”ì • 
     - 2ê°œì˜ depth ë¥¼ í•˜ë‚˜ì˜ value ì— ì ëŠ” ë°©ì‹ê³¼ ê¸°ì¡´ ì½”ë“œ ë°©ì‹ ì¤‘ ë¬´ì—‡ì´ ë‚˜ì„ì§€ëŠ” ëª¨ë¥´ê² ìŒ. 
    */

/*
  2. Database ì—ì„œ ì„¤ì •í•œ value ê°€, 1) React Hook Form ì— ì˜ ë°˜ì˜ë˜ì–´ì„œ 2) API íƒˆ ë•Œ, ì¿¼ë¦¬ë¡œ ì˜ ì „ë‹¬ë˜ëŠ”ì§€ í™•ì¸ 
*/
    // 2-1) 
      // Database ì—ì„œ ë„£ì–´ì¤€ selectComments3 ì´ ê½‚íˆëŠ” íƒœê·¸ëŠ” Radio ì„. 
      // ì´ Radio ì˜ name ì´ orderType ì„. 
      // ê·¸ëŸ¬ë©´, React hook form ì— orderType ë¡œ ë“±ë¡ëœë‹¤ëŠ” ì˜ë¯¸
      // ê·¸ëŸ¬ë©´, React hook form ì˜ ì´ˆê¸°ê°’ ì„¤ì •ì—ì„œ orderType ì´ ì–´ë–»ê²Œ ë“¤ì–´ê°€ëŠ”ì§€ í™•ì¸
      <FilterOption
        title="ì •ë ¬"
        content={<Radio name="orderType" items={selectComments3} />}
      />

    // 2-2) React hook form ì´ˆê¸°ê°’ ì„¤ì • 
    const methods = useForm<FormInput>({
    mode: "onBlur",
    defaultValues: {
      ...
      deleted: "false",
      orderType: "createAt",  
        // â­â­ ì´ ìˆœê°„ì„ 'createAt/desc' ì´ë ‡ê²Œ í•  ìˆ˜ ìˆê¸´ í•¨ 
        // ê·¸ëŸ°ë°, 'createAt/desc' ì´ë ‡ê²Œ í•˜ë©´ -> í•´ë‹¹ radio ì²´í¬ë°•ìŠ¤ì— ìƒ‰ì´ ì¹ í•´ì§
        // ê·¸ë˜ì„œ, ê·¸ëƒ¥ 'createAt' í•„ë“œëª…ë§Œ! 
        // ë‹¤ë§Œ, value ë¥¼ 2ê°œì˜ depth ë¡œ ê¸°ë¡í•˜ëŠ” ë°©ì‹ì— ë¬¸ì œê°€ ìˆì„ ê²½ìš° ë‹¤ë¥´ê²Œ ê°ˆ ìˆ˜ë„
      },
  });

    // 2-3) í˜ì´ì§€ ì „í™˜ì— ìˆì–´, API ê°€ ì–´ë–¤ parameter ë¥¼ ë°›ê³  ì‹¶ì–´í•˜ëŠ”ì§€ swagger ë³´ê³  í™•ì¸
      - page.offset, page.size, page.sortBy, page.sortDirection

    // 2-4) getFreshData ì˜ orderType ì—ì„œ '/' split í•˜ì—¬ 2depth ë°ì´í„° ë½‘ê³  -> ìš”êµ¬í•˜ëŠ” params ì— ì—…ë°ì´í„° í•˜ê¸° 
      const getFreshData = useCallback(
    (data: any, page: number, tab: string) => {
      const { date, searchType, keyword, orderType, deleted } = data;

      // â­â­â­ orderType ì—ì„œ 2depth ë°ì´í„° ë½‘ê¸° 
      const [sortBy, sortDirection] = orderType.split('/');  // 'ì •ë ¬' ì„¹ì…˜ ì„¤ì •

      // â­â­â­ ë½‘ì€ ë°ì´í„°ëŠ” parameter ì— ì£¼ì…í•˜ê¸° 
      const updatedParams = {
        ...newParams,
        ...
        "page.offset": page,
        "page.sortBy" : sortBy, 
        "page.sortDirection" : sortDirection, 
        orderType: orderType,
      };
      getData(updatedParams);
    },
    [getData]
  );


/*
  3. ì´ˆê¸°ê°’ ëŒ€ë¡œ ì˜ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸ 
*/


/*
  4. 'ì´ˆê¸°í™”' í•˜ë©´ ì˜ ì‚¬ë¼ì§€ëŠ”ì§€ í™•ì¸ 
*/




```

(APIê°€ swagger ì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” ì‚¬í•­)
![Image](https://i.imgur.com/k1fQgTS.png)



## `ê²€ìƒ‰` ì¡°íšŒ ( [1]'searchType' í•„ë“œê°€ ìˆëŠ” ê±´ 'íšŒì›ê´€ë¦¬' ë¿ [2] ëŒ“ê¸€ swagger ì—ëŠ” 'searchType' ì´ ì—†ìŒ [3] searchType ì´ ì•„ë‹ˆë¼, ë‹¤ë¥¸ í•„ë“œë¡œ ì‘ì—…ì„ í•´ì•¼ í•œë‹¤ë©´, ì„¤ëª…ì´ í•„ìš”í•œ ìƒí™©   )

### `ì²´í¬ë¦¬ìŠ¤íŠ¸` 
1. swagger ì—, query ë¥¼ ë„˜ê¸¸ ìˆ˜ ìˆëŠ” api ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸ (#âœ… ì •ë§ ì™œ ê·¸ëŸ°ì§€ì— ëŒ€í•´ì„œëŠ” ì¢€ ë” ìƒê°)

(ì˜ˆì‹œ) https://dev2-service.api.antschool.nextinnovation.kr/swagger-ui/index.html#/User%20(Admin)/getUserListUsingGET
![Image](https://i.imgur.com/XyJ3mUZ.png)


(ì˜ˆì‹œ)headerì— ë„£ì„ ë•Œ í•„ë“œê°’ì€ `swagger` ì— ì§€ì •ëœ ê²ƒì„ ë„£ì–´ì•¼ í•¨ (#ë°±ì—”ë“œë‘ ì•½ì†ì´ ë˜ì–´ì•¼ í•¨ #íšŒì›ê´€ë¦¬ ìª½ ê²€ìƒ‰ ì°¸ê³  #api ê°€ ë¨¼ì € ë§Œë“¤ì–´ì ¸ ìˆëŠ”ì§€ë¥¼ í™•ì¸í•´ì•¼ í•¨âœ…âœ…)
![Image](https://i.imgur.com/uVistZZ.png)
(https://dev2-service.api.antschool.nextinnovation.kr/swagger-ui/index.html#/User%20(Admin)/getUserListUsingGET) 




