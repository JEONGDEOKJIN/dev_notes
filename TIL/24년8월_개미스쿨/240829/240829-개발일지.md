# ì£¼ê°„ íšŒê³  í¬ì¸íŠ¸

### [storybook ì´ í•„ìš”í•œ ì´ìœ ] ì§€ê¸ˆ í•„ìš”í•œ ê³µí†µ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆë‹¤. ë‚˜ ë¿ ì•„ë‹ˆë¼ í•¨ê»˜ ì‘ì—…í•˜ëŠ”, ìƒˆë¡­ê²Œ íˆ¬ì…ëœ ê°œë°œìë¶„ë“¤ë„ -> ê·¸ëŸ¬ë©´ íŒ€ì˜ íš¨ìœ¨ì„±ì´ ë†’ì•„ì§„ë‹¤.

1. ë‚´ê°€ í•„ìš”ë¡œ í•˜ëŠ” ê±´, input ê²€ìƒ‰ì°½ì—ì„œ ì•„ë˜ë¡œ ë–¨ì–´ì§€ëŠ”ê±°. -> ì´ê±¸, ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì¼ì¼ì´ ì½”ë“œë¥¼ ë„£ìœ¼ë©´ì„œ ì°¾ì•„ë³¼ ìˆ˜ ì—†ë‹¤ -> storybook ì•ˆì—ì„œ, ê·¸ê²Œ ê°€ëŠ¥í•œ ì½”ë“œê°€ ë­”ì§€ë¥¼ 'ì‹œê°ì ' ìœ¼ë¡œ í™•ì¸í•˜ë©´ -> 'ì¼ì¼ì´ ì½”ë“œ' ë¥¼ ë„£ì§€ ì•Šê³  ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆë‹¤.

![Image](https://i.imgur.com/aroHwG8.png)

### ë””ë°”ìš´ì‹±ì„ ìœ ì§€í•˜ë‹ˆê¹Œ ì•ˆ ëŒì•„ê°”ë˜ ì½”ë“œ (@240827)

### ë‚´ê°€ í•´ì•¼ í•˜ëŠ” ê±´, 'ì‹¤ë¬´ taskë¥¼ í•´ê²°' í•˜ë©´ì„œë„, 'ì´ë¡ ì ìœ¼ë¡œ ê¹Šì´ ìˆê²Œ' ê³µë¶€í•˜ëŠ” ê²ƒ

1. ì •ì œëœ í•™ìŠµì„ ìœ„í•´ì„œëŠ”, 'êµ¬ì¡°í™”ëœ ì§€ì‹' ì´ ìˆì–´ì•¼ í•¨
2. 'êµ¬ì¡°í™”ëœ ì§€ì‹' ì´ ìˆëŠ” ìƒíƒœì—ì„œ -> ê·¸ê±¸ ë§ë¡œì¨ ì²´ë“ í•´ì•¼ í•¨.

- ì´ ì‹œê°„ì´ 1ì‹œê°„? 2ì‹œê°„?

### ë‚˜ì—ê²Œ ì•¼ê·¼ì€ ì–´ë–¤ ì˜ë¯¸ì¸ê°€. ìƒê°í•´ë³´ì.

### ë¬´ë¦¬í•œ ì¼ì •

- ê·¸ ëª¨ë“  ê²ƒì„ ë‹¤ í•˜ë ¤ê³  í•˜ì§€ ë§ì.
- ê·¸ ì•ˆì—ì„œ, ë‚´ê°€ ë§¡ì€ ì¼, ê·¸ê²ƒì˜ 120%ì˜ ì„±ì¥. ê·¸ê²ƒì—ë§Œ ì‹ ê²½ì“°ì.
- ë­ë¼ê³  í•˜ë©´, ê·¸ëƒ¥, ì‹ ê²½ ë„ì.
- ë‹¤ë§Œ, í™•ì‹¤í•˜ê²Œ í•´ì•¼ í•  ê±´, 120% ì˜ ì„±ì¥.
  - í•‘ê³„ë¥¼ ëŒ„ë‹¤ë©´, ëŒˆ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ, ê·¸ë ‡ë‹¤ê³ , í˜„ì¬ ë‚˜ì˜ ë¶€ì¡±í•œ ì‹¤ë ¥ ê¹Œì§€ ë®ì„ ìˆ˜ëŠ” ì—†ë‹¤.
  - ì§€ê¸ˆ í˜„ì¬ì˜ ë‚˜ë¥¼ ì¸ì •í•˜ê³  ë°›ì•„ë“¤ì´ì.

### ë‚´ê°€ ì´í•´í•œ íë¦„ ( #changeEntries ì˜ í•µì‹¬ : `DB ì—ì„œ true, false` ì¸ ê°’ì„ -> í™”ë©´ì— ë Œë”ë§ í•  ë•Œ, `ì ì ˆí•œ í…ìŠ¤íŠ¸ë¡œ ë§µí•‘` í•˜ëŠ” ê²ƒ )

### DB ì—ì„œ ë„˜ì–´ì˜¨ ê°’ì„ ìˆ˜ì •í•  ë•Œ, ì´ê±° ë§ê³  ì¢€ ë” ì„¸ë ¨ëœ ë°©ë²• ì—†ì„ê¹Œë‚˜ (#íšŒì›ëª©ë¡ì¡°íšŒ ê´€ë ¨)
- ë‚´ê°€ ë¶€ì¡±í•œ ê±° ( #â­â­â­ ì—¬ê¸°ì—ì„œ ë³€í™˜í•˜ëŠ”ê±° ì™„ì „íˆ ì†Œí™” ëª» í•¨)
```jsx 
      // [ê¸°ì¡´ì½”ë“œ] ë°±ì—”ë“œ ì—°ê²°ì‹œ â­â­â­â­â­
      const {
        data: { code, data }, // â­â­â­â­â­ code ë¡œ ë¶„ê¸°ì²˜ë¦¬í•´ì•¼í•¨
      } = await UserService.getUsers(param)

      if (code === 200) {
        const processedData = {
          ...data,
          items: data.items.map((item) => ({
            ...item, // ë‚˜ë¨¸ì§€ í•„ë“œëŠ” ë™ì¼
            create_at: item.create_at.replace("T", " "), // "T"ë¥¼ ê³µë°±ìœ¼ë¡œ ëŒ€ì²´
          })),
        };
        setData(processedData);
      }
    } catch (e) {
      handleError({ e, alert });
    }
  }, []);
```

### methods ê°ì²´ê°€ ëª¨ë“  ê²ƒì„ ì•Œê³  ìˆëŠ” ì´ìœ  
- 3.1 'ì •ë ¬' í•˜ëŠ” ë¼ë””ì˜¤ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ, ì¼ì–´ë‚˜ëŠ” ì¼ë“¤ 
```jsx
{/* 
  1) Radio ë²„íŠ¼ì—ì„œ 
  selectUser2 ê°ì²´ì—ì„œ, value ê°€ true ì¸ 'íƒˆí‡´' ë¥¼ ëˆ„ë¥´ë©´ -> DB ì˜ quited í•„ë“œ ì¤‘ 'true' ì¸ ê²Œ -> changeEntrie ë¥¼ ê±°ì³ì„œ -> 'íƒˆí‡´|íšŒì›???' ìœ¼ë¡œ ë³´ì„
  
  2) Radio ì»´í¬ë„ŒíŠ¸ì—ì„œ 
    - items props ë¡œ name="quite" ê°€ ë“¤ì–´ê°„ë‹¤. 
    - register ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜ë¡œ name ì´ ë“¤ì–´ê°„ë‹¤. 
        <input
          id={label}
          type="radio"
          value={value}
          disabled={disabled}
          {...register(name, rules)} 
          className={classNames(
            HiddenInputConfig,
            !disabled && "cursor-pointer "
          )}
        />
    
    3) ê·¸ ë‹¤ìŒ? 

    4) 'ì¡°íšŒ' ë¥¼ í´ë¦­ -> onSearch ë©”ì„œë“œë¡œ ë„˜ì–´ê° -> onSearch ì•ˆì˜ data ì—ëŠ”, date, ê²€ìƒ‰ í‚¤ì›Œë“œ ë“±ì´ ë“¤ì–´ê° 
      - í˜„ì¬ form ì´ ê´€ë¦¬í•˜ëŠ” ëª¨ë“ ê²Œ ë“¤ì–´ê°€ë‚˜?
      - ì´ê±¸ ë„˜ê²¨ì£¼ëŠ” ê±´ form ì¸ê°€?  

        a) useForm ì„ ì‚¬ìš©í•´ì„œ, ì´ˆê¸°ê°’ì„ ë“±ë¡í–ˆê³  -> ê²°ê³¼ë¥¼ methods ê°ì²´ê°€ ê°–ê³  ìˆìŒ.â­â­â­â­â­â­
          const methods = useForm<FormInput>({
            mode: "onBlur",
            defaultValues: {
              searchType: "",
              keyword: "",
              quited: "",
              date: {
                start_at: past1Month, // í˜„ì¬ë¡œ ë¶€í„° 1ë‹¬ì „
                end_at: today, // ì˜¤ëŠ˜ ë‚ ì§œ
                period: "1ê°œì›”",
              },
              page: 1,
            },
          }); 
        b) ë”°ë¼ì„œ, methods ê°ì²´ëŠ” ë“±ë¡í•œ ê°’ë“¤ì˜ ì •ë³´ë¥¼ ëª¨ë‘ ì•Œê³  ìˆìŒ.
      
    5) ê·¸ë¦¬ê³  getUpdateData ë¡œ í•´ë‹¹ ë°ì´í„°ë¥¼ ì „ë¶€ ë„˜ê¹€ (#â­â­â­)
      - updatedParams ë¥¼ ë§Œë“¤ê³  1) session ì— ì €ì¥ 2) ë„˜ê²¨ì•¼ í•˜ëŠ” payload ì •ë¦¬í•˜ê³  3) getData ë¡œ api ë¥¼ íƒœìš´ë‹¤.
      - ê·¸ëŸ¬ë©´, setData ë¡œ ìƒíƒœë³€ìˆ˜ data ì— ì €ì¥í•œë‹¤. 
      - ì´ data ê°€ Table ì»´í¬ë„ŒíŠ¸ì˜ data ì†ì„±ìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤.
    

*/}
```


---


### ì¡°ê¸ˆì˜ ì‹œê°„ì´ì§€ë§Œ, ê·¸ ìˆœê°„ ë§ì´ ë°°ì› ë‹¤ëŠ” ìƒê°ì´ ë“ ë‹¤. 







# ì•± ë©”ë‰´ êµ¬ì„± ì—ì„œ URL ë³€ê²½ (#20ë¶„ ì •ë„ ì†Œìš” #ì›ë˜ ì²˜ìŒì— ì¢€ ë” í–ˆì–´ì•¼ í•˜ëŠ”)

- í•´ì•¼ í•˜ëŠ” ê²ƒ 
```
í˜„ì¬, ìŠ¤í”„ë ˆë“œì‹œíŠ¸ì—ì„œì˜ url ê³¼ ì‹¤ì œ ë“¤ì–´ê°€ì§€ëŠ” url ì„ ê°™ê²Œ 
ì™œëƒë©´, ì´ê±¸ í•˜ë©´, í•œë²ˆì— ë¹ ë¥´ê²Œ íŒŒì•…ì´ ë˜ê¸° ë•Œë¬¸.
ìš°ì„ , ì™„ë£Œ!  
```

![Image](https://i.imgur.com/0zeQY2q.png)

![Image](https://i.imgur.com/QdWmgfU.png)



# 401 ì—ëŸ¬ ë‚˜ë©´ -> refresh token ë˜ì§€ê³ , access token ë°›ëŠ”ê±¸ë¡œ! ( #ìš°ì„ , ì˜¤ëŠ˜ ì´ìŠˆ ì „ë‹¬í•˜ê³ , ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ë•Œë¬¸ì— ì‹œê°„ì´ ë§ì´ ì§€ì²´ ë˜ì—ˆë‹¤. ì´ê±´ ë‹¤ìŒìœ¼ë¡œ ë„˜ê¸°ê³ , API ë¶™ì´ëŠ”ê±° ì˜¤ëŠ˜ê¹Œì§€ ë§ˆë¬´ë¦¬ í•˜ì)

- ë¬¸ì œ ìƒí™© 
```
access token ë§Œë£Œ -> refresh ë¥¼ ëª» ë˜ì ¸ì£¼ë‹ˆê¹Œ -> 401 ì´ ë˜ì–´ì„œ -> ë¡œê·¸ì¸ì´ íŠ•ê¹€ 
```
![Image](https://i.imgur.com/2Z3gcdG.png)

- í• ì¼ ì •ë¦¬ 
```bash
1. í˜„ì¬ refresh token ì„ ë°›ê³  ìˆëŠ”ì§€ í™•ì¸ 

2. refresh ê°€ ì˜ ì €ì¥ë˜ê³  ìˆëŠ”ì§€ í™•ì¸ (#access token ì´ë‘ ì €ì¥ë˜ëŠ” ìœ„ì¹˜ê°€ ë‹¬ëë˜ê±° ê°™ì€ë°, ì™œëƒë©´, fo ì½”ë“œë‘ í•©ì¹˜ë©´ì„œ # ê·¸ëŸ¬ë©´, í•œ êµ°ë°ì—ì„œ ì €ì¥í•˜ëŠ” ê²Œ ë‚˜ìœ¼ë ¤ë‚˜ #ìš°ì„ , ì½”ë“œ ê´€ë¦¬ìƒ, access ë‘ ë™ì¼í•˜ê²Œ ë„£ì)

3. ë§Œë£Œ ë˜ì—ˆì„ ë•Œ, ì˜ êº¼ë‚´ì§€ê³  ìˆëŠ”ì§€ í™•ì¸ 

4. api ì— refresh ê°€ ì˜ ë‹´ê¸°ëŠ”ì§€ í™•ì¸ 

5. return ìœ¼ë¡œ access ê°€ ì˜ ì €ì¥ë˜ì–´ì„œ ë¡œê·¸ì¸ì´ ì—°ì¥ë˜ëŠ”ì§€ í™•ì¸ 
  - ì´ê±°ëŠ” ì´ì œ, 'ì‹¤ì œ token ëª…ì„ ë¹„êµ' í•˜ë©´ ë  ë“¯ 
```

### 1) í˜„ì¬ ë°±ì—”ë“œì—ì„œ refresh token ì„ ì˜ ë°›ê³  ìˆë‚˜ 

```
ìš°ì„ , ì˜ ë°›ê³  ìˆìŒ
```

![Image](https://i.imgur.com/gYZTgFN.png)

ì´ê²Œ local storage ì— ì €ì¥ 








# íšŒì› ëª©ë¡ ì¡°íšŒ 


### 1. DB ì¡°íšŒì‹œ ë‚´ë ¤ì˜¤ëŠ” í•„ë“œëª…ì— ë§ê²Œ , 1) Databaseì˜ header 2) í•„ìš”ì‹œ page ì˜ entries ë³€ìˆ˜ -> ì¶”ê°€ í™•ì¸ í•„ìš” 3) changeEntries í•˜ëŠ” key ê°’ ë³€ê²½ 
![Image](https://i.imgur.com/EJb9Ksh.png)


- ì¶”ê°€ë¡œ input name? 


### 2. 'ê¸°ê°„ ì¡°íšŒ' (#ğŸ”µ ì‘ë™)

![Image](https://i.imgur.com/6ftPIzY.png)

- ì´ìŠˆ 
```
ê°€ì… ì¼ì‹œ ì‹œì 
```
![Image](https://i.imgur.com/Yj7RhPM.png)


- ë‚´ê°€ ë¶€ì¡±í•œ ê±° ( #â­â­â­ ì—¬ê¸°ì—ì„œ ë³€í™˜í•˜ëŠ”ê±° ì™„ì „íˆ ì†Œí™” ëª» í•¨)
```jsx 
      // [ê¸°ì¡´ì½”ë“œ] ë°±ì—”ë“œ ì—°ê²°ì‹œ â­â­â­â­â­
      const {
        data: { code, data }, // â­â­â­â­â­ code ë¡œ ë¶„ê¸°ì²˜ë¦¬í•´ì•¼í•¨
      } = await UserService.getUsers(param)

      if (code === 200) {
        const processedData = {
          ...data,
          items: data.items.map((item) => ({
            ...item, // ë‚˜ë¨¸ì§€ í•„ë“œëŠ” ë™ì¼
            create_at: item.create_at.replace("T", " "), // "T"ë¥¼ ê³µë°±ìœ¼ë¡œ ëŒ€ì²´
          })),
        };
        setData(processedData);
      }
    } catch (e) {
      handleError({ e, alert });
    }
  }, []);
  
```


### 3. ì •ë ¬



- 3.1 'ì •ë ¬' í•˜ëŠ” ë¼ë””ì˜¤ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ, ì¼ì–´ë‚˜ëŠ” ì¼ë“¤ 
```jsx


    <PageLayout>
      <FormProvider {...methods}>
        <SearchFilter
          optionContent={
            <>
              <FilterOption
                title="ê¸°ê°„"
                content={<DatePickerContainer name="date" isTotal={true} />}
              />

              <FilterOption
                title="ì •ë ¬"
                content={<Radio name="quited" items={selectUser2} />}
              />

{/* 
  1) Radio ë²„íŠ¼ì—ì„œ 
  selectUser2 ê°ì²´ì—ì„œ, value ê°€ true ì¸ 'íƒˆí‡´' ë¥¼ ëˆ„ë¥´ë©´ -> DB ì˜ quited í•„ë“œ ì¤‘ 'true' ì¸ ê²Œ -> changeEntrie ë¥¼ ê±°ì³ì„œ -> 'íƒˆí‡´|íšŒì›???' ìœ¼ë¡œ ë³´ì„
  
  2) Radio ì»´í¬ë„ŒíŠ¸ì—ì„œ 
    - items props ë¡œ name="quite" ê°€ ë“¤ì–´ê°„ë‹¤. 
    - register ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜ë¡œ name ì´ ë“¤ì–´ê°„ë‹¤. 
        <input
          id={label}
          type="radio"
          value={value}
          disabled={disabled}
          {...register(name, rules)} 
          className={classNames(
            HiddenInputConfig,
            !disabled && "cursor-pointer "
          )}
        />
    
    3) ê·¸ ë‹¤ìŒ? 

    4) 'ì¡°íšŒ' ë¥¼ í´ë¦­ -> onSearch ë©”ì„œë“œë¡œ ë„˜ì–´ê° -> onSearch ì•ˆì˜ data ì—ëŠ”, date, ê²€ìƒ‰ í‚¤ì›Œë“œ ë“±ì´ ë“¤ì–´ê° 
      - í˜„ì¬ form ì´ ê´€ë¦¬í•˜ëŠ” ëª¨ë“ ê²Œ ë“¤ì–´ê°€ë‚˜?
      - ì´ê±¸ ë„˜ê²¨ì£¼ëŠ” ê±´ form ì¸ê°€?  

        a) useForm ì„ ì‚¬ìš©í•´ì„œ, ì´ˆê¸°ê°’ì„ ë“±ë¡í–ˆê³  -> ê²°ê³¼ë¥¼ methods ê°ì²´ê°€ ê°–ê³  ìˆìŒ.â­â­â­â­â­â­
          const methods = useForm<FormInput>({
            mode: "onBlur",
            defaultValues: {
              searchType: "",
              keyword: "",
              quited: "",
              date: {
                start_at: past1Month, // í˜„ì¬ë¡œ ë¶€í„° 1ë‹¬ì „
                end_at: today, // ì˜¤ëŠ˜ ë‚ ì§œ
                period: "1ê°œì›”",
              },
              page: 1,
            },
          }); 
        b) ë”°ë¼ì„œ, methods ê°ì²´ëŠ” ë“±ë¡í•œ ê°’ë“¤ì˜ ì •ë³´ë¥¼ ëª¨ë‘ ì•Œê³  ìˆìŒ.
      
    5) ê·¸ë¦¬ê³  getUpdateData ë¡œ í•´ë‹¹ ë°ì´í„°ë¥¼ ì „ë¶€ ë„˜ê¹€ (#â­â­â­)
      - updatedParams ë¥¼ ë§Œë“¤ê³  1) session ì— ì €ì¥ 2) ë„˜ê²¨ì•¼ í•˜ëŠ” payload ì •ë¦¬í•˜ê³  3) getData ë¡œ api ë¥¼ íƒœìš´ë‹¤.
      - ê·¸ëŸ¬ë©´, setData ë¡œ ìƒíƒœë³€ìˆ˜ data ì— ì €ì¥í•œë‹¤. 
      - ì´ data ê°€ Table ì»´í¬ë„ŒíŠ¸ì˜ data ì†ì„±ìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤.
    

*/}
```


![Image](https://i.imgur.com/0txzkfT.png)


- ì •ë ¬ ë¬¸ì˜ ì‚¬í•­ 
@í•´ì¸ í•´ì¸ ê°œë°œìë‹˜ ì•ˆë…•í•˜ì„¸ìš”. 
BO íšŒì›ê´€ë¦¬ ëª©ë¡ ê²€ìƒ‰ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ ì „ë‹¬ë“œë¦½ë‹ˆë‹¤. 
https://bit.ly/3Z5ZvJU ì°¸ê³  ë¶€íƒë“œë¦½ë‹ˆë‹¤. 
ê°ì‚¬í•©ë‹ˆë‹¤~! 



# íšŒì› ë“±ê¸‰ ìƒì„± 

### 1. í•„ë“œëª… ì„¤ì • (#âœ…âœ…âœ…âœ…âœ… ì´ê²Œ ì‹ ê²½ ì“°ì´ë„¤ )


### 2. ìš°ì„ , ê¸°íšì„œê°€ ì•ˆ ë‚˜ì™€ì„œ 'ìˆ˜ì •' ìœ¼ë¡œ ë„˜ì–´ê°€ê¸° (240829-1630)



# íšŒì› ì •ë³´ ìˆ˜ì • 
### 1. ìˆ˜ì •ì€ ì–´ë–»ê²Œ ì§„í–‰ì´? 

- ê·¸ëŸ¬ë ¤ë©´, `user > [id] > page` ë¡œ ë“¤ì–´ê°€ì•¼ í•¨ 
  - ì•„, ê¸°ì¡´ì—ëŠ”, í˜ì´ì§€ ì „í™˜ì´ì—ˆëŠ”ë°, ì§€ê¸ˆì€, alert ì°½ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŒ. 

- onEdit ì—¬ê¸°ë¥¼ íƒ€ì•¼ í•¨ 
```jsx 
  // ìˆ˜ì •
  const onEdit = (data: any) => {
    const { user_nickname } = data;
    const params = {
      nickname: user_nickname,
    };
    const alertData = {
      content: "í•´ë‹¹ íšŒì›ì„ ìˆ˜ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
      isCancel: true,
      callback: () => patchData(nowId, params),
    };
    alert.openAlert(alertData);
  };
```



### 2. page ì— ìˆë˜ ë¡œì§ì€ modal ì°½ ì•ˆì—ì„œ ì´ë£¨ì–´ì§€ê²Œ ìˆ˜ì • 

1. ë°ì´í„° ê°€ì ¸ì˜¤ê¸° -> ë¬¸ì œëŠ” "ì´ ìœ ì €ì˜ ID ê°€ ë¬´ì—‡ì¸ê°€?" ë¥¼ ì•Œì•„ë‚´ëŠ” ê²ƒ. 

```jsx

    // ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    const getData = useCallback(async (id) => {
      try {
        const {
          data: { code, data },
        } = await UserService.getUser(id);
        if (code === 200) {
          methods.reset({
            ...data,
            user_phone: formatPhone(data.user_phone),
            total_fanart_post: format3comma(data.total_fanart_post),
            total_community_post: format3comma(data.total_community_post),
            total_comment: format3comma(data.total_comment),
          });
        }
      } catch (e) {
        handleError({ e, alert });
      }
    }, []);

    useEffect(() => {
      getData(nowId);
    }, [getData, nowId]);

```

2. í•´ë‹¹ ìœ ì €ì˜ id ë¥¼ ê°€ì ¸ì™€ì•¼ í•˜ëŠ”ë° ì´ê±´, token íŒŒì‹±ì„ í†µí•´ ê°€ì ¸ì˜¤ê¸° 

```jsx
// í•´ë‹¹ ì½”ë“œë¥¼ token managerë¡œ ì˜®ê¸°ê¸°
export const getUserInfoFromToken = (): ParsedJwtToken => {
  const {
    payload: { email = "", nickname = "" },
  } = getParsedJwtToken();
  const [userId] = email.split("@");

  return {
    email,
    userId,
    nickname,
  };
};
```

3. ì˜¤ìºì´ í•´ë‹¹ ìœ ì €ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì™”ìŒ 

```jsx
    // ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    const getData = useCallback(async (id) => {
      try {
        const {
          data: { code, data },
        } = await UserService.getUser(id);

        console.log("ìˆ˜ì • getData data", data);
    }}
```

4. ì´ì œ ê·¸ê±¸ ë¿Œë ¤ì£¼ê¸° (#read)

- 4.1  form ì˜ `íŠ¹ì • í•„ë“œ` ì—, `ë°›ì•„ì˜¨ ë°ì´í„°` ë¥¼ `ë°”ì¸ë”©` í•˜ê¸° 
```jsx
        if (code === 200) {
          methods.reset({
            ...data,
            user_phone: formatPhone(data.user_phone), // form ì˜ user_phone í•„ë“œì— formatPhone(data.user_phone) ê°’ì„ ë°”ì¸ë”©
            total_fanart_post: format3comma(data.total_fanart_post),
            total_community_post: format3comma(data.total_community_post),
            total_comment: format3comma(data.total_comment),
          });
        }

```

- 4.1 `í•„ë“œ ì´ë¦„` ê³¼ `input íƒœê·¸ì˜ name ì´ë¦„` ì´ ë™ì¼í•˜ë©´, input íƒœê·¸ì— ë³´ì—¬ì§€ê²Œ ë¨ 
![Image](https://i.imgur.com/SF5K22J.png)


![Image](https://i.imgur.com/EDleZQJ.png)


![Image](https://i.imgur.com/pzm3tjM.png)



- 4.2 input ì—ì„œ ì›í•˜ëŠ” ê±¸ë¡œ ë„£ì—ˆì–´ -> ê·¸ ë‹¤ìŒì—, `ìˆ˜ì •í•˜ê¸°!` ë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤. 

![Image](https://i.imgur.com/cO0ily5.png)



5. ê·¸ëŸ¬ë©´, onEdit í•¨ìˆ˜ê°€ ì‹¤í–‰ë¨ -> ê·¸ëŸ¬ë©´, ì—…ë°ì´íŠ¸ í•˜ê³  ì‹¶ì€ ê°’ì„ params ì— ë‹´ìœ¼ë©´ ë¨ â­â­â­â­â­â­ 

```jsx
  // ìˆ˜ì •
  const onEdit = (data: any) => {
    const { user_nickname } = data;

    // â­â­â­ ë‹¤ë¥¸ ì •ë³´ë¥¼ ì¶”ê°€ í•˜ê³  ì‹¶ìœ¼ë©´, params ì•ˆì— key ê°€ ë“¤ì–´ê°€ì•¼ í•¨  
    const params = {
      nickname: user_nickname,
    };
    const alertData = {
      content: "í•´ë‹¹ íšŒì›ì„ ìˆ˜ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
      isCancel: true,
      callback: () => patchData(8, params), // [âœ…TODO] nowId ëŠ” í˜„ì¬, 8 ë¡œ í•˜ë“œì½”ë”©
      // callback: () => patchData(nowId, params),
    };
    alert.openAlert(alertData);
  };

```



6. ì´ì œ `ìˆ˜ì • ê°€ëŠ¥í•œ í•„ë“œ` ë‘, `ë³´ì—¬ì¤˜ì•¼ í•˜ëŠ” í•„ë“œ` ë¥¼ êµ¬ë¶„í•´ì„œ ì§„í–‰í•˜ê¸° 



7. input ì´ ì•„ë‹ˆë¼, `í† ê¸€` ì—ì„œ ê¸°ì¡´ ê°’ì´ ë³´ì´ê²Œ í•˜ê¸° (#â­â­â­)
![Image](https://i.imgur.com/pHssyeh.png)


8. `FormSelect` ì•ˆì—ì„œ ë°”ì¸ë”©ëœ í…ìŠ¤íŠ¸ê°€ ë³´ì´ëŠ” ê³³
```jsx
  <div className="flex justify-between items-center">
    <span className="text-ellipsis overflow-hidden whitespace-nowrap">
      {/* í˜„ì¬ ë²„íŠ¼ì—ì„œ ë³´ì—¬ì§€ëŠ” ê°’ | Update ì‹œ, get í•œ ë°ì´í„°ê°€ ì´ê³³ì— ê½‚í˜€ì•¼ í•¨ */}
      {items?.find((i) => i.value === selectValue)?.label}
    </span>
    <div
      className={classNames(
        "flex-shrink-0",
        showOptions
          ? "bg-[url('/img/icon/downArray.svg')] w-[14px] h-[14px]"
          : "bg-[url('/img/icon/select.svg')] w-[11px] h-[7px]"
      )}
    ></div>
```


### ë²„íŠ¼ì—ì„œ ê°’ì´ ë³´ì—¬ì§€ëŠ” ë¡œì§ì„ ë‹¤ì‹œ ì •ë¦¬í•˜ë©´ (#â­â­â­â­â­)

1. `{items?.find((i) => i.value === selectValue)?.label}` ì´ê³³ì¸ë° 

1) i.value ì´ê±´ selectUserTest ì—¬ê¸°ì—ì„œì˜ value ì— ë°”ì¸ë”©ëœ ê°’
```bash

  export const selectUserTest = [
  {
    label: "íƒˆí‡´",
    value: true, 
  },
  {
    label: "ìœ ì§€",
    value: false,
  },
];
```

- ì™œëƒë©´, `selectUserTest` ì—¬ê¸°ë¡œ ëª©ì°¨ê°€ ì „ë‹¬ì´ ë¨  

```jsx
<RowModalTableLarge
  data={[
    {
      value: (
        <FilterOption
          title="quited í•„ë“œ ë³€ê²½"
          content={
            <FilterBox
              selectItems={selectUserTest} // â­â­â­ ëª©ì°¨ ì „ë‹¬
              selectName="quited"
              inputName="keyword"
              onSearch={methods.handleSubmit(onSearch)}
            />
          }
        />
      ),
    }]}
```


2) selectValue ì´ê±´, í˜„ì¬ `quited` ì˜ form ì— ë°”ì¸ë”© ë˜ì–´ ìˆëŠ” ê°’ 
```jsx
  const selectValue = getValues(name); 
  ì—¬ê¸°ì—ì„œ ì˜¨ ê°’ 
```

```bash
í˜„ì¬ id 8 ë²ˆì˜ quited ê°’ì´ false ì´ë¯€ë¡œ, const selectValue = getValues(name) ê°’ì€ false ê°€ ë‚˜ì˜´  

# ê·¼ë°, ëª¨ë“  quited ì˜ ê°’ì´ ì•„ë‹ˆë¼, id=8 ì¸ ê²ƒì˜ quited ê°€ ë‚˜ì˜¤ëŠ”ê±°ì§€
```


3) value ê°€ ê°™ì„ ë•Œ -> label ì´ ë³´ì„!!! 





### ê·¸ëŸ¬ë©´, í˜„ì¬ ì‹œì ì—ì„œ í•´ì•¼ í•  ê²ƒì€ 

1. `ìˆ˜ì • í•„ìš”í•œ í•„ë“œ` ì™€ `ë³´ì—¬ì¤˜ì•¼ í•˜ëŠ” í•„ë“œ` ê°„ êµ¬ë¶„ì´ í•„ìš”í•œë°, `ìˆ˜ì •` í•„ë“œëŠ” quited ë“±ìœ¼ë¡œ ì„ì‹œë¡œ ë³€ê²½ë  ìˆ˜ ìˆê²Œ í•´ë†”ì•¼ í•  ë“¯ 


2. í˜„ì¬ div ì—, í˜„ì¬ data ê°’ì„ ë°”ì¸ë”© í•´ì„œ ë„£ê¸° 
![Image](https://i.imgur.com/vqpMcED.png)


3. í˜„ì¬ ì—¬ê¸°ì—ì„œ, DB ì—ì„œ ë°›ì€ EMAIL ì„, form ì„ í†µí•´ ë„£ì–´ì£¼ë ¤ë©´? (#â­â­â­â­â­ #ì´ê²Œ ì§€ê¸ˆ ì–´ë ¤ì›€) 
![Image](https://i.imgur.com/ykrcVZe.png)



4. í˜„ì¬, ê°’ì´ `undefined` ìœ¼ë¡œ ë‚˜ì˜¤ëŠ”ë°, ê·¸ ì´ìœ ëŠ”, form ì— ë“±ë¡ëœ ë””í´íŠ¸ ê°’ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸?!

```jsx
{
    "channel_name": "",
    "channel_image": [],
    "description": "",
    "original_link": ""
}
```

![Image](https://i.imgur.com/QDyuOwe.png)


---

## ë¬¸ì œìƒí™© ì •ë¦¬ (#â­â­â­â­â­)

### 1. ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì™€ ì¡°íšŒí•´ì•¼ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°„ êµ¬ë¶„íˆ í•„ìš”í•¨. 

### 2. í˜„ì¬, ê·¸ëƒ¥ ì¡°íšŒë§Œ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì˜ ì‘ë™ì„ ì•ˆ í•¨ 


- 2.1 `TextBox` ì— inputName prop ì„ ë˜ì§€ë©´, TextBox ì—ì„œ ë°›ì•„ì•¼ í•˜ëŠ”ë° ëª» ë°›ê³  ìˆìŒ. 
```jsx
  {
    value: (
      <FilterOption
        title="ì´ë¦„"
        content={<TextBox inputName = "user_email" fontWeight="500" content="ì •ë•ì§„" />}
      />
    ),
    required: true,
  }
```

- 2.2 ì—¬ê¸°ì—ì„œ ëª» ë°›ìŒ
```jsx
  const { getValues } = useFormContext();
  /*
    1. form ìœ¼ë¡œ ê°ì‹¸ì ¸ ìˆëŠ”ì§€ í™•ì¸ 
    2. ê·¸ëŸ¬ë©´, getValues ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŒ. 
    3. name ì„ ë°›ì•„ì„œ getValues(name) ìœ¼ë¡œ ì ‘ê·¼í•˜ë©´ ë¨ 
    4. ì „ì²´ëŠ” í•´ë‹¹ name í•„ë“œì˜ ê°’ì´, API íƒ€ê³  ë‚œ ë‹¤ìŒ, ë°”ë¡œ form ì— ë“¤ì–´ê°”ì–´ì•¼ í•¨
  */

  console.log("inputName" ,inputName )

  const selectValue = getValues(inputName);
  console.log("getValues selectValue | data", selectValue);

```